import Sound.Tidal.MIDI.Context
import Sound.Tidal.MIDI.JP08
import Sound.Tidal.MIDI.VolcaFM
displayOutputDevices >>= putStrLn
devices <- midiDevices

m1 <- midiStream devices "MIDI4x4 MIDI 1" 4 volcafmController

m1 $ off 0.125 (|+| algtm 0.1)
  $ n (off 0.125 (+7) $ slow 4 "c4 a3(3,8) f5(3,8) e3") # moddecay (slow 2 saw)
  |+| n "<0 3>"
  # algtm (scale 0 0.9 $ slow 16 saw)
  -- |+| n (discretise 1 $ irand 4)
  

  
m1 $ n "a3" # otune 0.8

  # vcoocrossmod 0
  # otune 1
  # attack 0.4
 
m1 silence
