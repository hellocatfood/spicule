import Sound.Tidal.MIDI.Context
import Sound.Tidal.MIDI.VolcaBass

displayOutputDevices >>= putStrLn
devices <- midiDevices
m1 <- midiStream devices "Scarlett 2i4 USB MIDI 1" 2 volcabassController

m1 $ off 0.125 (|+| algtm 0.5)
  $ n (off 0.125 (+7) $ slow 4 "c4 e3(3,8) f5(3,8) g5") # moddecay (slow 4 saw)
  |+| n "<0 7 12>"
  # algtm (scale 0 0.5 $ slow 16 saw)
  -- |+| n (discretise 1 $ irand 4)
  # dur 0.3

let m p = m1 $ p # nudge 0.317

m $ off 0.125 (|+| n 12) $ slow 2 $ n (off 0.125 (+12) $ off 0.25 (+7) "c4 a5 ~ [g5 a3]")
  # dur (slow 8 $ scale 0.25 0.5 sine)
  # cutoff 1
  # attack saw
  |+| n "-24"

m1 $ n "0"
  # nudge 0.2

d1 $ sound "bd"
  # speed 4

d1 $ n "c6" # sound "rash"

cps 0.8

import Sound.Tidal.MIDI.JP08


m1 <- midiStream devices "MIDI4x4 MIDI 1" 13 jp08Controller

m1 $ note "c6"


  
m1 silence

m1 $ n "a3" # otune 0.8

  # vcoocrossmod 0
  # otune 1
  # attack 0.4
 
m1 silence
